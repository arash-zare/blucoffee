# ๐ ุณุณุชู ูุงูุชูุฑูฺฏ ูุฑู ุงูุชุธุงู (Microservices)

ุงู ุฑุงูููุง ุจูโุตูุฑุช ุฌุงูุน ู ฺฏุงูโุจูโฺฏุงู ูุฑุงุญู ูุตุจุ ุฑุงูโุงูุฏุงุฒ ู ูพฺฉุฑุจูุฏ ุณุณุชู ูุงูุชูุฑูฺฏ ุฑุง ฺฉู ูุจุชู ุจุฑ ูุนูุงุฑ ูุงฺฉุฑูุณุฑูุณ ุงุณุชุ ุงุฑุงุฆู ูโุฏูุฏ. 

---

## ๐ ูพุดโูุงุฒูุง

### ฑ. ูุตุจ Docker

#### **ููุฏูุฒ**
1. **ุฏุงูููุฏ ู ูุตุจ Docker Desktop:**
   - ุจู [ูุจุณุงุช ุฑุณู Docker](https://www.docker.com/products/docker-desktop) ูุฑุงุฌุนู ฺฉูุฏ.
   - ูุณุฎู ูุชูุงุณุจ ุจุง ุณุณุชู ุฎูุฏ ุฑุง ุฏุงูููุฏ ู ูุตุจ ฺฉูุฏ.
   - ุณุณุชู ุฎูุฏ ุฑุง ุฑุณุชุงุฑุช ฺฉูุฏ.

2. **ูุนุงู ฺฉุฑุฏู WSL 2 (ุฏุฑ ุตูุฑุช ูุงุฒ)**
   - PowerShell ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
     ```sh
     wsl --install
     ```
   - ุณูพุณ ุฏุฑ Docker Desktop ุจู ุชูุธูุงุช ุฑูุชู ู **Use WSL 2 based engine** ุฑุง ูุนุงู ฺฉูุฏ.

#### **ูููฺฉุณ**
1. **ูุตุจ Docker ุฑู Ubuntu/Debian:**
   ```sh
   sudo apt update && sudo apt install docker.io -y
   sudo systemctl enable --now docker
   ```
2. **ุงูุฒูุฏู ฺฉุงุฑุจุฑ ุจู ฺฏุฑูู Docker (ุงุฎุชุงุฑ):**
   ```sh
   sudo usermod -aG docker $USER
   ```
   ุณูพุณ ฺฉุจุงุฑ ุณุณุชู ุฑุง ุฑุณุช ฺฉูุฏ ุง ุฎุฑูุฌ ู ูุฑูุฏ ูุฌุฏุฏ ุงูุฌุงู ุฏูุฏ.

---

## ๐ ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู

### ฑ. ุจุงุฑฺฏุฐุงุฑ ุงูุฌโูุง ุฏุงฺฉุฑ ุฏุฑ ูุญุท ุขููุงู

ุฏุฑ ูุญุท ฺฉู ุงูุชุฑูุช ูุฌูุฏ ูุฏุงุฑุฏุ ูุงู `all_images.tar` ุฑุง ุฏุฑ ูุณุฑ ูพุฑูฺู ูุฑุงุฑ ุฏุงุฏู ู ุณูพุณ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
```sh
docker load < all_images.tar
```

### ฒ. ุงุฌุฑุง ุณุฑูุณโูุง ุจุง Docker Compose

ุฏุฑ ูุณุฑ ูพุฑูฺูุ ูุงู `docker-compose.yml` ุฑุง ูพุฏุง ฺฉุฑุฏู ู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
```sh
docker-compose up -d
```
> ุงู ุฏุณุชูุฑ ุณุฑูุณโูุง ุฑุง ุฏุฑ ูพุณโุฒููู ุงุฌุฑุง ูโฺฉูุฏ.

### ณ. ุจุฑุฑุณ ูุถุนุช ุงุฌุฑุง ฺฉุงูุชูุฑูุง

ุจุฑุง ูุดุงูุฏูโ ูุถุนุช ุณุฑูุณโูุง ุฏุฑ ุญุงู ุงุฌุฑุงุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
```sh
docker ps
```
> ุฏุฑ ุตูุฑุช ฺฉู ูุดฺฉู ุฏุฑ ุงุฌุฑุง ูุฌูุฏ ุฏุงุดุชุ ูโุชูุงูุฏ ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
```sh
docker-compose logs -f
```

---




## ๐ ุชูุธูุงุช Grafana

### ฑ. ูุฑูุฏ ุจู ุฏุงุดุจูุฑุฏ Grafana
ูพุณ ุงุฒ ุงุฌุฑุง ุณุฑูุณโูุงุ ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ุจู ุขุฏุฑุณ ุฒุฑ ุจุฑูุฏ:
```
http://localhost:3000
```
ูุฑูุฏ ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ:
- **Username:** `admin`
- **Password:** `admin` (ุฏุฑ ุงููู ูุฑูุฏ ุชุบุฑ ุฑูุฒ ุงูุฒุงู ุงุณุช)

### ฒ. ุงุถุงูู ฺฉุฑุฏู Data Source ุจู Grafana
1. ุฏุฑ ุฏุงุดุจูุฑุฏ Grafana ุจู **Configuration** โ **Data Sources** ุจุฑูุฏ.
2. ุฑู **Add data source** ฺฉูฺฉ ฺฉูุฏ.
3. **Prometheus** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.
4. ุฏุฑ ูุณูุช `URL` ููุฏุงุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   ```
   http://victoriametrics:8428

   ```

5. ุฑู **Save & Test** ฺฉูฺฉ ฺฉูุฏ.


### ณ. ุงููพูุฑุช ฺฉุฑุฏู ุฏุงุดุจูุฑุฏูุง ุข
ูุงุฏู
1. ุจู **Manage Dashboards** ุฏุฑ Grafana ุจุฑูุฏ.
2. ุฑู **Import** ฺฉูฺฉ ฺฉูุฏ.
3. ฺฉ **Dashboard ** ูุนุชุจุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุง ูุงู JSON ุฏุงุดุจูุฑุฏ ููุฑุฏูุธุฑ ุฑุง ุขูพููุฏ ฺฉูุฏ.
4. Data Source ุฑุง ุฑู **Prometheus** ุชูุธู ฺฉุฑุฏู ู Import ุฑุง ุจุฒูุฏ.



## ๐ง ูุฏุฑุช ุณุฑูุณโูุง

### ฑ. ูุชููู ฺฉุฑุฏู ุงุฌุฑุง ุณุฑูุณโูุง
```sh
docker-compose down
```

### ฒ. ุญุฐู ุชูุงู ฺฉุงูุชูุฑูุง ู ุงูุฌโูุง

ุงฺฏุฑ ูโุฎูุงูุฏ ุชูุงู ุณุฑูุณโูุงุ ุงูุฌโูุง ู ุฏุงุฏูโูุง ุฐุฎุฑูโุดุฏู ุฑุง ุญุฐู ฺฉูุฏ:
```sh
docker system prune -a
```

---

## ๐ ุจุฑุฑุณ ูุดฺฉูุงุช ู ุฏุจุงฺฏ

### ฑ. ูุดุงูุฏู ูุงฺฏโูุง ุณุฑูุณ ุฎุงุต:
```sh
docker logs -f <container_id>
```

### ฒ. ูุฑูุฏ ุจู ุฏุงุฎู ฺฉุงูุชูุฑ ุจุฑุง ุจุฑุฑุณ ุฏููโุชุฑ:
```sh
docker exec -it <container_id> /bin/sh
```

### ณ. ุจุฑุฑุณ ูุถุนุช ุณุณุชู ู ููุงุจุน ูุตุฑู ฺฉุงูุชูุฑูุง:
```sh
docker stats
```

---

## ๐ข ูุชุฌูโฺฏุฑ

ุจุง ุงุฌุฑุง ุงู ุฑุงูููุงุ ุณุณุชู ูุงูุชูุฑูฺฏ ูุฑู ุงูุชุธุงู ุจุง ูุนูุงุฑ **ูุงฺฉุฑูุณุฑูุณ** ู ุงุจุฒุงุฑูุง **Grafana** ู **Prometheus** ุจูโุตูุฑุช ฺฉุงูู ุฑุงูโุงูุฏุงุฒ ุดุฏ. ุงู ุณุณุชู ุงูฺฉุงู ูุธุงุฑุช ุฏูู ุจุฑ ุฏุงุฏูโูุง ุฑุง ูุฑุงูู ฺฉุฑุฏู ู ูุงุจูุช ููุงุณโูพุฐุฑ ุจุงูุง ุฏุงุฑุฏ. ูุทูุงู ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ุชุบุฑุงุช ุจุดุชุฑุ ูุงูโูุง `docker-compose.yml` ู `prometheus.yml` ุฑุง ุจุฑุฑุณ ู ูุฑุงุด ฺฉูุฏ. ๐

